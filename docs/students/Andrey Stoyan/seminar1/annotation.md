# Calco: декларативный способ описания пайплайнов обработки данных, основанный на аннотировании операций контрактами

Существует два основных подхода к заданию вычислений: императивный и декларативный.
Первый - прозрачен для программистов, в то время как второй имеет больший потенциал для оптимизаций.
Одно декларативное описание может транслироваться в множество конкретных имплементаций, из которых можно выбрать самое оптимальное.
Соответственно, пайплайн может быть задан двумя способами: как конкретный граф исполнения и в виде SQL.
Конкретный граф не содержит высокоуровневой информации о решаемой им задаче, таким образом, система обработки данных не может переставлять операции в целях увеличения производительности.
Таким образом, оптимизация конкретного графа - задача программиста, но реальные графы могут состоять из большого числа нод, что делает проблематичным ручную оптимизацию.
Кроме того, бОльшая часть необходимой информации для оценки производительности графа доступна только в рантайме.
SQL же популярен для аналитики и его оптимизация хорошо изучена.
Тем не менее, часто бывает неудобно или даже невозможно использовать SQL для обычных задач обработки данных, таких как ETL и т.д.

В это докладе мы рассмотрим новый подход к заданию пайплайнов обработки данных.
Этот метод основан на декларативных спецификациях определённых пользователем операций.
Такие спецификации мы называем контрактами.
Они позволяют автоматически генерировать графы исполнения, чтобы в последствии выбрать из них самый оптимальный.
Контрактом можно описать одну произвольную операцию или часть пайплайна, таким образом этот подход сочетает в себе прозрачность императивного и оптимизационный потенциал декларативного подходов.
Мы рассмотрим прототип и генерацию графов на реальном примере.
Также мы обозначим задачи на пути к решению проблемы оптимизации.
